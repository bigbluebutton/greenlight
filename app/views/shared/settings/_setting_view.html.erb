<%
# BigBlueButton open source conferencing system - http://www.bigbluebutton.org/.
# Copyright (c) 2018 BigBlueButton Inc. and by respective authors (see below).
# This program is free software; you can redistribute it and/or modify it under the
# terms of the GNU Lesser General Public License as published by the Free Software
# Foundation; either version 3.0 of the License, or (at your option) any later
# version.
#
# BigBlueButton is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.
# You should have received a copy of the GNU Lesser General Public License along
# with BigBlueButton; if not, see <http://www.gnu.org/licenses/>.
%>

<%= content_tag(:div, id: setting_id, class: "setting-view card") do %>
  <div class="card-body p-6">
    <div class="card-title text-primary">
      <div class="form-group">
        <div class="row">
          <% if setting_id == "users" %>
            <div class="col-7 mt-2">
              <h4><%= setting_title %></h4>
            </div>

            <div class="col-5 float-right">
              <div id="search-bar">
                <div class="input-group">
                  <input id="search-input" type="text" class="form-control" placeholder="<%= t("settings.search") %>..." value="<%= @search %>">
                  <% unless @search.blank? %>
                    <span id="clear-search" class="text-primary" onclick="clearSearch()">
                      <i class="fas fa-times"></i>
                    </span>
                  <% end %>
                  <span class="input-group-append">
                    <button class="btn btn-primary" type="button" onclick="searchPage()">
                      <i class="fas fa-search"></i>
                    </button>
                  </span>
              </div>
              </div>
            </div>
          <% else %>
            <div class="col-12 mt-2">
              <h4 class="text-primary"><%= setting_title %></h4>
            </div>
          <% end %>
        </div>
      </div>
    </div>
    <hr>

    <% unless (defined?(admin_view)).nil? %>
      <%= render "shared/admin_settings/#{setting_id}" %>
    <% else %>
      <%= render "shared/settings/#{setting_id}" %>
    <% end %>
  </div>
<% end %>
